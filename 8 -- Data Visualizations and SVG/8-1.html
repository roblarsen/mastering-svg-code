<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Mastering SVG- SVG Basic The DOM Manipulator</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <style type="text/css">
    body {
      font-family: Raleway, sans-serif;
    }

    svg.canvas {
      border: 1px solid black;
    }

    svg.canvas.active {
      border: 4px solid black;
      cursor: crosshair;
    }

    svg.canvas.active.square {
      cursor: url(square.png), crosshair;
    }

    svg.canvas.active.circle {
      cursor: url(circle.png) 32 32, crosshair;
    }

    svg.canvas.active.text {
      cursor: url(text.png), crosshair;
    }

    svg.canvas text,
    svg.canvas rect,
    svg.canvas circle {
      cursor: pointer;
    }

    button svg {
      fill: cornflowerblue;
      stroke: cornflowerblue;
      max-width: 50px;
    }
  </style>
</head>

<body>

  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 725 300" width="725" height="300" version="1.1" id="canvas" class="canvas">
        </svg>
      </div>
    </div>
  </div>

  <script>
    /*
    ES6
    */
    {
    const data = 
  { "year":2003,
    "hrs":31
  },
  { "year":2004,
    "hrs":41
  },
  { "year":2005,
    "hrs":47
  },
  { "year":2006,
    "hrs":54
  },
  { "year":2007,
    "hrs":35
  },
  { "year":2008,
    "hrs":23
  },
  { "year":2009,
    "hrs":28
  },
  { "year":2010,
    "hrs":32
  },
  { "year":2011,
    "hrs":29
  },
  { "year":2012,
    "hrs":23
  },
  { "year":2013,
    "hrs":30
  },
  { "year":2014,
    "hrs":35
  },
  { "year":2015,
    "hrs":37
  },
  { "year":2016,
    "hrs":38
  }
]
      const doc = document;
      const canvas = doc.getElementById("canvas");
      function add(coords,color="#ff8000") {
        const NS = canvas.getAttribute('xmlns');
        const startingPoint = canvas.createSVGPoint();
        const endingPoint = canvas.createSVGPoint();
        console.log(coords);
        startingPoint.x = coords.x1;
        startingPoint.y = coords.y1;
        endingPoint.x = coords.x2;
        endingPoint.y = coords.y2;
        const startingCoords = startingPoint.matrixTransform(canvas.getScreenCTM().inverse());
        const endingCoords = endingPoint.matrixTransform(canvas.getScreenCTM().inverse());
        console.log(startingCoords,endingCoords,color);
        
        let elem;
        elem = doc.createElementNS(NS, "line");
        elem.setAttribute("x1", startingCoords.x);
        elem.setAttribute("y1", startingCoords.y);
        elem.setAttribute("x2", endingCoords.x);
        elem.setAttribute("y2", endingCoords.y);
        elem.setAttribute("stroke", color);
        canvas.appendChild(elem);
        
      }
      
      document.addEventListener("DOMContentLoaded", () => {
          const coords =[]; 
          let x1 = 75;
          let y1 = 250;
          let x2 = 75;
          let y2 = 25;
          add({
              "x1": 75,
              "y1": 250,
              "x2": x2+(100*(data.length-1)),
              "y2": 250
                  
              }, "#AAA")
          for (let i = 0; i < data.length; i++){
              add({
                  "x1": x1+(100*i),
                  "y1": y1,
                  "x2": x2+(100*i),
                  "y2": y2
                  
              }, "#AAA")
          }
          //for 20 add lines
          // for data point to point. 
          
      });
    

    }

  </script>

</body>

</html>